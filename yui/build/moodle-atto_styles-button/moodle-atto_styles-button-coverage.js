if (typeof __coverage__ === 'undefined') { __coverage__ = {}; }
if (!__coverage__['build/moodle-atto_styles-button/moodle-atto_styles-button.js']) {
   __coverage__['build/moodle-atto_styles-button/moodle-atto_styles-button.js'] = {"path":"build/moodle-atto_styles-button/moodle-atto_styles-button.js","s":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0},"fnMap":{"1":{"name":"(anonymous_1)","line":1,"loc":{"start":{"line":1,"column":37},"end":{"line":1,"column":56}}},"2":{"name":"(anonymous_2)","line":42,"loc":{"start":{"line":42,"column":17},"end":{"line":42,"column":28}}},"3":{"name":"(anonymous_3)","line":47,"loc":{"start":{"line":47,"column":29},"end":{"line":47,"column":45}}},"4":{"name":"(anonymous_4)","line":64,"loc":{"start":{"line":64,"column":32},"end":{"line":64,"column":52}}},"5":{"name":"(anonymous_5)","line":97,"loc":{"start":{"line":97,"column":18},"end":{"line":97,"column":37}}},"6":{"name":"(anonymous_6)","line":137,"loc":{"start":{"line":137,"column":22},"end":{"line":137,"column":33}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":163,"column":61}},"2":{"start":{"line":39,"column":0},"end":{"line":39,"column":30}},"3":{"start":{"line":41,"column":0},"end":{"line":159,"column":3}},"4":{"start":{"line":43,"column":8},"end":{"line":43,"column":40}},"5":{"start":{"line":44,"column":8},"end":{"line":44,"column":36}},"6":{"start":{"line":45,"column":8},"end":{"line":45,"column":23}},"7":{"start":{"line":46,"column":8},"end":{"line":46,"column":23}},"8":{"start":{"line":47,"column":8},"end":{"line":60,"column":11}},"9":{"start":{"line":48,"column":12},"end":{"line":48,"column":22}},"10":{"start":{"line":49,"column":12},"end":{"line":49,"column":28}},"11":{"start":{"line":50,"column":12},"end":{"line":55,"column":13}},"12":{"start":{"line":51,"column":16},"end":{"line":51,"column":55}},"13":{"start":{"line":52,"column":19},"end":{"line":55,"column":13}},"14":{"start":{"line":53,"column":16},"end":{"line":53,"column":56}},"15":{"start":{"line":54,"column":16},"end":{"line":54,"column":52}},"16":{"start":{"line":56,"column":12},"end":{"line":59,"column":15}},"17":{"start":{"line":63,"column":8},"end":{"line":63,"column":52}},"18":{"start":{"line":64,"column":8},"end":{"line":76,"column":10}},"19":{"start":{"line":65,"column":12},"end":{"line":65,"column":50}},"20":{"start":{"line":67,"column":12},"end":{"line":67,"column":48}},"21":{"start":{"line":68,"column":12},"end":{"line":68,"column":51}},"22":{"start":{"line":69,"column":12},"end":{"line":69,"column":50}},"23":{"start":{"line":70,"column":12},"end":{"line":70,"column":49}},"24":{"start":{"line":71,"column":12},"end":{"line":75,"column":13}},"25":{"start":{"line":72,"column":16},"end":{"line":72,"column":57}},"26":{"start":{"line":74,"column":16},"end":{"line":74,"column":54}},"27":{"start":{"line":78,"column":8},"end":{"line":86,"column":11}},"28":{"start":{"line":98,"column":8},"end":{"line":98,"column":36}},"29":{"start":{"line":99,"column":8},"end":{"line":132,"column":9}},"30":{"start":{"line":100,"column":12},"end":{"line":100,"column":54}},"31":{"start":{"line":101,"column":12},"end":{"line":110,"column":13}},"32":{"start":{"line":102,"column":16},"end":{"line":104,"column":17}},"33":{"start":{"line":103,"column":20},"end":{"line":103,"column":29}},"34":{"start":{"line":105,"column":16},"end":{"line":105,"column":58}},"35":{"start":{"line":106,"column":16},"end":{"line":109,"column":17}},"36":{"start":{"line":107,"column":20},"end":{"line":107,"column":47}},"37":{"start":{"line":108,"column":20},"end":{"line":108,"column":26}},"38":{"start":{"line":111,"column":12},"end":{"line":111,"column":19}},"39":{"start":{"line":112,"column":15},"end":{"line":132,"column":9}},"40":{"start":{"line":113,"column":12},"end":{"line":113,"column":64}},"41":{"start":{"line":114,"column":12},"end":{"line":114,"column":54}},"42":{"start":{"line":115,"column":12},"end":{"line":127,"column":13}},"43":{"start":{"line":116,"column":16},"end":{"line":118,"column":17}},"44":{"start":{"line":117,"column":20},"end":{"line":117,"column":29}},"45":{"start":{"line":119,"column":16},"end":{"line":119,"column":58}},"46":{"start":{"line":120,"column":16},"end":{"line":126,"column":17}},"47":{"start":{"line":121,"column":20},"end":{"line":121,"column":74}},"48":{"start":{"line":122,"column":20},"end":{"line":125,"column":21}},"49":{"start":{"line":123,"column":24},"end":{"line":123,"column":32}},"50":{"start":{"line":124,"column":24},"end":{"line":124,"column":30}},"51":{"start":{"line":128,"column":12},"end":{"line":128,"column":48}},"52":{"start":{"line":130,"column":12},"end":{"line":130,"column":45}},"53":{"start":{"line":131,"column":12},"end":{"line":131,"column":64}},"54":{"start":{"line":134,"column":8},"end":{"line":134,"column":27}},"55":{"start":{"line":138,"column":8},"end":{"line":138,"column":29}},"56":{"start":{"line":140,"column":8},"end":{"line":140,"column":41}},"57":{"start":{"line":141,"column":8},"end":{"line":143,"column":9}},"58":{"start":{"line":142,"column":12},"end":{"line":142,"column":25}},"59":{"start":{"line":144,"column":8},"end":{"line":144,"column":40}},"60":{"start":{"line":145,"column":8},"end":{"line":145,"column":32}}},"branchMap":{"1":{"line":50,"type":"if","locations":[{"start":{"line":50,"column":12},"end":{"line":50,"column":12}},{"start":{"line":50,"column":12},"end":{"line":50,"column":12}}]},"2":{"line":52,"type":"if","locations":[{"start":{"line":52,"column":19},"end":{"line":52,"column":19}},{"start":{"line":52,"column":19},"end":{"line":52,"column":19}}]},"3":{"line":71,"type":"if","locations":[{"start":{"line":71,"column":12},"end":{"line":71,"column":12}},{"start":{"line":71,"column":12},"end":{"line":71,"column":12}}]},"4":{"line":99,"type":"if","locations":[{"start":{"line":99,"column":8},"end":{"line":99,"column":8}},{"start":{"line":99,"column":8},"end":{"line":99,"column":8}}]},"5":{"line":102,"type":"if","locations":[{"start":{"line":102,"column":16},"end":{"line":102,"column":16}},{"start":{"line":102,"column":16},"end":{"line":102,"column":16}}]},"6":{"line":106,"type":"if","locations":[{"start":{"line":106,"column":16},"end":{"line":106,"column":16}},{"start":{"line":106,"column":16},"end":{"line":106,"column":16}}]},"7":{"line":112,"type":"if","locations":[{"start":{"line":112,"column":15},"end":{"line":112,"column":15}},{"start":{"line":112,"column":15},"end":{"line":112,"column":15}}]},"8":{"line":116,"type":"if","locations":[{"start":{"line":116,"column":16},"end":{"line":116,"column":16}},{"start":{"line":116,"column":16},"end":{"line":116,"column":16}}]},"9":{"line":120,"type":"if","locations":[{"start":{"line":120,"column":16},"end":{"line":120,"column":16}},{"start":{"line":120,"column":16},"end":{"line":120,"column":16}}]},"10":{"line":122,"type":"if","locations":[{"start":{"line":122,"column":20},"end":{"line":122,"column":20}},{"start":{"line":122,"column":20},"end":{"line":122,"column":20}}]},"11":{"line":141,"type":"if","locations":[{"start":{"line":141,"column":8},"end":{"line":141,"column":8}},{"start":{"line":141,"column":8},"end":{"line":141,"column":8}}]}},"code":["(function () { YUI.add('moodle-atto_styles-button', function (Y, NAME) {","","// This file is part of Moodle - http://moodle.org/","//","// Moodle is free software: you can redistribute it and/or modify","// it under the terms of the GNU General Public License as published by","// the Free Software Foundation, either version 3 of the License, or","// (at your option) any later version.","//","// Moodle is distributed in the hope that it will be useful,","// but WITHOUT ANY WARRANTY; without even the implied warranty of","// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the","// GNU General Public License for more details.","//","// You should have received a copy of the GNU General Public License","// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.","","/**"," * Atto styles - YUI file"," *"," * @package     atto"," * @subpackage  atto_styles"," * @copyright   2015 Alexander Bias, University of Ulm <alexander.bias@uni-ulm.de>, together with Synergy Learning UK"," * @license     http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later"," */","","/**"," * @module moodle-atto_styles-button"," */","","/**"," * Atto text editor styles plugin."," *"," * @namespace M.atto_styles"," * @class button"," * @extends M.editor_atto.EditorPlugin"," */","","var component = 'atto_styles';","","Y.namespace('M.atto_styles').Button = Y.Base.create('button', Y.M.editor_atto.EditorPlugin, [], {","    initializer: function() {","        var styles = this.get('styles');","        styles = JSON.parse(styles);","        var items = [];","        var icon, span;","        Y.Array.each(styles, function(style) {","            icon = '';","            span = '<span>';","            if (style.type === 'block') {","                icon = '<i class=\"block_element\"></i>';","            } else if (style.type !== 'nostyle') {","                icon = '<i class=\"inline_element\"></i>';","                span = '<span class=\"inlinestyle\">';","            }","            items.push({","                text: span+icon+style.title+'</span>',","                callbackArgs: ['<'+style.type+'>', style.classes]","            });","        });","","        // Override the _showToolbarMenu function to disable/enable inline styles, as needed.","        var showToolbarMenu = this._showToolbarMenu;","        this._showToolbarMenu = function(e, config) {","            showToolbarMenu.call(this, e, config);","","            var enableInline, menu, menuContent;","            enableInline = this.hasRangeSelected();","            menu = this.menus[config.buttonClass];","            menuContent = menu.get('contentBox');","            if (enableInline) {","                menuContent.removeClass('disableinline');","            } else {","                menuContent.addClass('disableinline');","            }","        };","","        this.addToolbarMenu({","            icon: 'icon',","            iconComponent: component,","            buttonClass: 'styles',","            globalItemConfig: {","                callback: this._changeStyle","            },","            items: items","        });","    },","","    /**","     * Change the text to the specified style.","     *","     * @method _changeStyle","     * @param {EventFacade} e","     * @param {string} style The new style","     * @private","     */","    _changeStyle: function(e, style) {","        var eID, element, p, pstyle;","        if (style[0] === '<nostyle>') {","            element = window.getSelection().focusNode;","            for (p = element; p; p = p.parentNode) {","                if (p.nodeType !== 1) {","                    continue;","                }","                pstyle = window.getComputedStyle(p, null);","                if (pstyle) {","                    p.removeAttribute('class');","                    break;","                }","            }","            return;","        } else if (style[0] === '<block>') {","            document.execCommand('formatBlock', false, '<div>');","            element = window.getSelection().focusNode;","            for (p = element; p; p = p.parentNode) {","                if (p.nodeType !== 1) {","                    continue;","                }","                pstyle = window.getComputedStyle(p, null);","                if (pstyle) {","                    var displaystyle = pstyle.getPropertyValue('display');","                    if (displaystyle === 'block') {","                        eID = p;","                        break;","                    }","                }","            }","            eID.setAttribute('class', style[1]);","        } else {","            var styles = style[1].split(\" \");","            this.get('host').toggleInlineSelectionClass(styles);","        }","        // Mark as updated","        this.markUpdated();","    },","","    hasRangeSelected: function() {","        var selection, range;","","        selection = rangy.getSelection();","        if (!selection.rangeCount) {","            return false;","        }","        range = selection.getRangeAt(0);","        return !range.collapsed;","    }","}, {","    ATTRS: {","        /**","         * The content of the styles.","         *","         * @attribute library","         * @type object","         */","        styles: {","            value: {}","        }","    }","});","","","","}, '@VERSION@', {\"requires\": [\"moodle-editor_atto-plugin\"]});","","}());"]};
}
var __cov_LlqW4Bi4_pArusgW0sJ4tg = __coverage__['build/moodle-atto_styles-button/moodle-atto_styles-button.js'];
__cov_LlqW4Bi4_pArusgW0sJ4tg.s['1']++;YUI.add('moodle-atto_styles-button',function(Y,NAME){__cov_LlqW4Bi4_pArusgW0sJ4tg.f['1']++;__cov_LlqW4Bi4_pArusgW0sJ4tg.s['2']++;var component='atto_styles';__cov_LlqW4Bi4_pArusgW0sJ4tg.s['3']++;Y.namespace('M.atto_styles').Button=Y.Base.create('button',Y.M.editor_atto.EditorPlugin,[],{initializer:function(){__cov_LlqW4Bi4_pArusgW0sJ4tg.f['2']++;__cov_LlqW4Bi4_pArusgW0sJ4tg.s['4']++;var styles=this.get('styles');__cov_LlqW4Bi4_pArusgW0sJ4tg.s['5']++;styles=JSON.parse(styles);__cov_LlqW4Bi4_pArusgW0sJ4tg.s['6']++;var items=[];__cov_LlqW4Bi4_pArusgW0sJ4tg.s['7']++;var icon,span;__cov_LlqW4Bi4_pArusgW0sJ4tg.s['8']++;Y.Array.each(styles,function(style){__cov_LlqW4Bi4_pArusgW0sJ4tg.f['3']++;__cov_LlqW4Bi4_pArusgW0sJ4tg.s['9']++;icon='';__cov_LlqW4Bi4_pArusgW0sJ4tg.s['10']++;span='<span>';__cov_LlqW4Bi4_pArusgW0sJ4tg.s['11']++;if(style.type==='block'){__cov_LlqW4Bi4_pArusgW0sJ4tg.b['1'][0]++;__cov_LlqW4Bi4_pArusgW0sJ4tg.s['12']++;icon='<i class="block_element"></i>';}else{__cov_LlqW4Bi4_pArusgW0sJ4tg.b['1'][1]++;__cov_LlqW4Bi4_pArusgW0sJ4tg.s['13']++;if(style.type!=='nostyle'){__cov_LlqW4Bi4_pArusgW0sJ4tg.b['2'][0]++;__cov_LlqW4Bi4_pArusgW0sJ4tg.s['14']++;icon='<i class="inline_element"></i>';__cov_LlqW4Bi4_pArusgW0sJ4tg.s['15']++;span='<span class="inlinestyle">';}else{__cov_LlqW4Bi4_pArusgW0sJ4tg.b['2'][1]++;}}__cov_LlqW4Bi4_pArusgW0sJ4tg.s['16']++;items.push({text:span+icon+style.title+'</span>',callbackArgs:['<'+style.type+'>',style.classes]});});__cov_LlqW4Bi4_pArusgW0sJ4tg.s['17']++;var showToolbarMenu=this._showToolbarMenu;__cov_LlqW4Bi4_pArusgW0sJ4tg.s['18']++;this._showToolbarMenu=function(e,config){__cov_LlqW4Bi4_pArusgW0sJ4tg.f['4']++;__cov_LlqW4Bi4_pArusgW0sJ4tg.s['19']++;showToolbarMenu.call(this,e,config);__cov_LlqW4Bi4_pArusgW0sJ4tg.s['20']++;var enableInline,menu,menuContent;__cov_LlqW4Bi4_pArusgW0sJ4tg.s['21']++;enableInline=this.hasRangeSelected();__cov_LlqW4Bi4_pArusgW0sJ4tg.s['22']++;menu=this.menus[config.buttonClass];__cov_LlqW4Bi4_pArusgW0sJ4tg.s['23']++;menuContent=menu.get('contentBox');__cov_LlqW4Bi4_pArusgW0sJ4tg.s['24']++;if(enableInline){__cov_LlqW4Bi4_pArusgW0sJ4tg.b['3'][0]++;__cov_LlqW4Bi4_pArusgW0sJ4tg.s['25']++;menuContent.removeClass('disableinline');}else{__cov_LlqW4Bi4_pArusgW0sJ4tg.b['3'][1]++;__cov_LlqW4Bi4_pArusgW0sJ4tg.s['26']++;menuContent.addClass('disableinline');}};__cov_LlqW4Bi4_pArusgW0sJ4tg.s['27']++;this.addToolbarMenu({icon:'icon',iconComponent:component,buttonClass:'styles',globalItemConfig:{callback:this._changeStyle},items:items});},_changeStyle:function(e,style){__cov_LlqW4Bi4_pArusgW0sJ4tg.f['5']++;__cov_LlqW4Bi4_pArusgW0sJ4tg.s['28']++;var eID,element,p,pstyle;__cov_LlqW4Bi4_pArusgW0sJ4tg.s['29']++;if(style[0]==='<nostyle>'){__cov_LlqW4Bi4_pArusgW0sJ4tg.b['4'][0]++;__cov_LlqW4Bi4_pArusgW0sJ4tg.s['30']++;element=window.getSelection().focusNode;__cov_LlqW4Bi4_pArusgW0sJ4tg.s['31']++;for(p=element;p;p=p.parentNode){__cov_LlqW4Bi4_pArusgW0sJ4tg.s['32']++;if(p.nodeType!==1){__cov_LlqW4Bi4_pArusgW0sJ4tg.b['5'][0]++;__cov_LlqW4Bi4_pArusgW0sJ4tg.s['33']++;continue;}else{__cov_LlqW4Bi4_pArusgW0sJ4tg.b['5'][1]++;}__cov_LlqW4Bi4_pArusgW0sJ4tg.s['34']++;pstyle=window.getComputedStyle(p,null);__cov_LlqW4Bi4_pArusgW0sJ4tg.s['35']++;if(pstyle){__cov_LlqW4Bi4_pArusgW0sJ4tg.b['6'][0]++;__cov_LlqW4Bi4_pArusgW0sJ4tg.s['36']++;p.removeAttribute('class');__cov_LlqW4Bi4_pArusgW0sJ4tg.s['37']++;break;}else{__cov_LlqW4Bi4_pArusgW0sJ4tg.b['6'][1]++;}}__cov_LlqW4Bi4_pArusgW0sJ4tg.s['38']++;return;}else{__cov_LlqW4Bi4_pArusgW0sJ4tg.b['4'][1]++;__cov_LlqW4Bi4_pArusgW0sJ4tg.s['39']++;if(style[0]==='<block>'){__cov_LlqW4Bi4_pArusgW0sJ4tg.b['7'][0]++;__cov_LlqW4Bi4_pArusgW0sJ4tg.s['40']++;document.execCommand('formatBlock',false,'<div>');__cov_LlqW4Bi4_pArusgW0sJ4tg.s['41']++;element=window.getSelection().focusNode;__cov_LlqW4Bi4_pArusgW0sJ4tg.s['42']++;for(p=element;p;p=p.parentNode){__cov_LlqW4Bi4_pArusgW0sJ4tg.s['43']++;if(p.nodeType!==1){__cov_LlqW4Bi4_pArusgW0sJ4tg.b['8'][0]++;__cov_LlqW4Bi4_pArusgW0sJ4tg.s['44']++;continue;}else{__cov_LlqW4Bi4_pArusgW0sJ4tg.b['8'][1]++;}__cov_LlqW4Bi4_pArusgW0sJ4tg.s['45']++;pstyle=window.getComputedStyle(p,null);__cov_LlqW4Bi4_pArusgW0sJ4tg.s['46']++;if(pstyle){__cov_LlqW4Bi4_pArusgW0sJ4tg.b['9'][0]++;__cov_LlqW4Bi4_pArusgW0sJ4tg.s['47']++;var displaystyle=pstyle.getPropertyValue('display');__cov_LlqW4Bi4_pArusgW0sJ4tg.s['48']++;if(displaystyle==='block'){__cov_LlqW4Bi4_pArusgW0sJ4tg.b['10'][0]++;__cov_LlqW4Bi4_pArusgW0sJ4tg.s['49']++;eID=p;__cov_LlqW4Bi4_pArusgW0sJ4tg.s['50']++;break;}else{__cov_LlqW4Bi4_pArusgW0sJ4tg.b['10'][1]++;}}else{__cov_LlqW4Bi4_pArusgW0sJ4tg.b['9'][1]++;}}__cov_LlqW4Bi4_pArusgW0sJ4tg.s['51']++;eID.setAttribute('class',style[1]);}else{__cov_LlqW4Bi4_pArusgW0sJ4tg.b['7'][1]++;__cov_LlqW4Bi4_pArusgW0sJ4tg.s['52']++;var styles=style[1].split(' ');__cov_LlqW4Bi4_pArusgW0sJ4tg.s['53']++;this.get('host').toggleInlineSelectionClass(styles);}}__cov_LlqW4Bi4_pArusgW0sJ4tg.s['54']++;this.markUpdated();},hasRangeSelected:function(){__cov_LlqW4Bi4_pArusgW0sJ4tg.f['6']++;__cov_LlqW4Bi4_pArusgW0sJ4tg.s['55']++;var selection,range;__cov_LlqW4Bi4_pArusgW0sJ4tg.s['56']++;selection=rangy.getSelection();__cov_LlqW4Bi4_pArusgW0sJ4tg.s['57']++;if(!selection.rangeCount){__cov_LlqW4Bi4_pArusgW0sJ4tg.b['11'][0]++;__cov_LlqW4Bi4_pArusgW0sJ4tg.s['58']++;return false;}else{__cov_LlqW4Bi4_pArusgW0sJ4tg.b['11'][1]++;}__cov_LlqW4Bi4_pArusgW0sJ4tg.s['59']++;range=selection.getRangeAt(0);__cov_LlqW4Bi4_pArusgW0sJ4tg.s['60']++;return!range.collapsed;}},{ATTRS:{styles:{value:{}}}});},'@VERSION@',{'requires':['moodle-editor_atto-plugin']});
